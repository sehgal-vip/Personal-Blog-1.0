{% comment %}
  Breadcrumb Navigation
  Shows: Home → Section → Current Page
{% endcomment %}

{% assign crumbs = page.url | split: '/' %}
{% assign crumb_path = '' %}

<nav class="breadcrumbs" aria-label="Breadcrumb">
  <span class="breadcrumb-item">
    <a href="{{ '/' | relative_url }}">Home</a>
  </span>
  
  {% for crumb in crumbs %}
    {% if crumb != '' and crumb != 'index.html' %}
      {% assign crumb_path = crumb_path | append: '/' | append: crumb %}
      
      <span class="breadcrumb-separator" aria-hidden="true">→</span>
      
      {% if forloop.last %}
        <span class="breadcrumb-item current" aria-current="page">
          {% if page.title %}
            {{ page.title | truncate: 30 }}
          {% else %}
            {{ crumb | replace: '-', ' ' | capitalize }}
          {% endif %}
        </span>
      {% else %}
        <span class="breadcrumb-item">
          {% assign section_page = site.pages | where: "url", crumb_path | first %}
          {% if section_page %}
            <a href="{{ section_page.url | relative_url }}">{{ section_page.title }}</a>
          {% else %}
            <a href="{{ crumb_path | relative_url }}/">{{ crumb | replace: '-', ' ' | capitalize }}</a>
          {% endif %}
        </span>
      {% endif %}
    {% endif %}
  {% endfor %}
</nav>
